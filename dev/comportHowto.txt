###### Serial communication ##########

sudo touch /etc/udev/rules.d/20-microontroller.rules
sudo echo 'SUBSYSTEM=="tty", ATTRS{idVendor}=="0483", ATTRS{idProduct}=="5740", ATTRS{serial}=="540489539", SYMLINK+="ttyS99"' > /etc/udev/rules.d/20-microontroller.rules
service udev restart
sudo usermod -a -G dialout mrteel

########## install ########

sudo apt-get install screen
sudo apt-get install expect

########### Comport script #####################


#!/usr/bin/expect -f
spawn screen /dev/ttyS99 9600
send "dump\r"
expect "# Ok"
send "exit\r"
# chmod 755 comport.sh
# ./comport.sh > file.txt


#############################

Alternativ...

echo "dump" > /dev/ttyS99
while read line; 
do 
    echo $line 
done < /dev/ttyS99


############################
echo "dump" > /dev/ttyS99
while IFS= read -r line
do
  echo "$line"
done < cat /dev/ttyS99